<!DOCTYPE html>
<html lang="en" class="scrollbar">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>The End of the Tales of Endangered Sea Turtles</title>

    <!-- CSS stylesheet(s) -->
    <link rel="stylesheet" href="css/master.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/horizontal-scroll.css">
    <link rel="stylesheet" href="css/trans-anim.css">

    <!-- Jquery scripts -->
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://code.jquery.com/ui/1.13.1/jquery-ui.min.js" integrity="sha256-eTyxS0rkjpLEo16uXTS0uVCS4815lc40K2iVpWDvdSY=" crossorigin="anonymous"></script>

  </head>

  <body>

    <!-- Logo -->
    <header>
      <div id="logo">
        <a href="index.html"><img src="images/turtle-logo.svg" alt="turtle logo" type="images/svg+xml"></a>
        <a href="https://www.worldwildlife.org/species/sea-turtle">Save the turtles!</a>
      </div>
    </header>

    <main class="wrapper">

      <section class="title">
        <div class="center">
          <h1>What now?</h1>
          <img id="anim-turtle" src="images/turtle-crop.gif" alt="turtle animation">
          <img id="no-link-arrow" src="images/arrow-next-turtle.svg" alt="arrow">
        </div>
      </section>

      <section id="s2">

        <img id="turtle-guide-4" style="top: 15%; left:10%" src="images/leatherback.svg" alt="leatherback sea turtle">
        <img id="turtle-guide-3" style="top: 80%; left:40%" src="images/olive-ridley.svg" alt="olive ridley sea turtle">
        <img id="turtle-guide" style="top: 25%; left:60%" src="images/hawksbill.svg" alt="hawksbill sea turtle">
        <img id="turtle-guide-2" style="top: 60%; left:85%" src="images/green.svg" alt="green sea turtle">

        <span class="anim_container info">
          <div class="info-list">
            <div class="info">
              <p style="--i: 1">This</p>
              <p style="--i: 2">is</p>
              <p style="--i: 3">it</p>
              <p style="--i: 3">,</p>
              <p style="--i: 4; margin-right: 0.125rem">everyone</p>
              <p style="--i: 5">!</p>
            </div>
            <div class="info">
              <p style="--i: 6">This</p>
              <p style="--i: 7">is</p>
              <p style="--i: 8">the</p>
              <p style="--i: 9">end</p>
              <p style="--i: 10">of</p>
              <p style="--i: 11">our</p>
              <p style="--i: 12; margin-right: 0">stories</p>
              <p style="--i: 13">,</p>
              <p style="--i: 14">for</p>
              <p style="--i: 15; margin-right: 0;">now</p>
              <p style="--i: 16">.</p>
            </div>
            <div class="info">
              <p style="--i: 17">Check</p>
              <p style="--i: 18">out</p>
              <h2 style="--i: 19; color: #84FFFF"><a href="https://crystals80.github.io/dart449/projects/project2/midterm/index.html">the author</a></h2>
              <p style="--i: 20">of</p>
              <p style="--i: 21">our</p>
              <p style="--i: 22">stories</p>
              <p style="--i: 23">and</p>
              <p style="--i: 24">see</p>
              <p style="--i: 25">their</p>
              <h2 style="--i: 26; margin-right: 0.175rem; color: #84FFFF"><a href="docs/artist-statement.pdf">artist statement</a></h2>
              <p style="--i: 27">!</p>
            </div>
            <div class="info">
              <p style="--i: 28">If</p>
              <p style="--i: 29">you</p>
              <p style="--i: 30">would</p>
              <p style="--i: 31">like</p>
              <p style="--i: 32">to</p>
              <p style="--i: 33">read</p>
              <p style="--i: 34">more</p>
              <p style="--i: 35">about</p>
              <p style="--i: 36; margin-right: 0;">us</p>
              <p style="--i: 37">,</p>
              <p style="--i: 38">have</p>
              <p style="--i: 39">a</p>
              <p style="--i: 40">look</p>
              <p style="--i: 41">at</p>
              <p style="--i: 42">the</p>
              <h2 style="--i: 43; margin-right: 0; color: #84FFFF"><a href="docs/bibliography.pdf">bibliography</a></h2>
              <p style="--i: 44">.</p>
            </div>
          </div>
        </span>
      </section>

      <section id="s1">

        <img id="turtle-guide-3" style="top: 20%; left:20%" src="images/olive-ridley.svg" alt="olive ridley sea turtle">
        <img id="turtle-guide-4" style="top: 65%; left:10%" src="images/leatherback.svg" alt="leatherback sea turtle">
        <img id="turtle-guide-2" style="top: 25%; left:75%" src="images/green.svg" alt="green sea turtle">
        <img id="turtle-guide" style="top: 75%; left:55%" src="images/hawksbill.svg" alt="hawksbill sea turtle">

        <span class="anim_container">
          <h1 style="--i: 0">T</h1>
          <h1 style="--i: 1">i</h1>
          <h1 style="--i: 2">l</h1>
          <h1 style="--i: 3; margin-right: 2rem"">l</h1>
          <h1 style=" --i: 4">N</h1>
          <h1 style="--i: 5">e</h1>
          <h1 style="--i: 6">x</h1>
          <h1 style="--i: 7; margin-right: 2rem"">t</h1>
          <h1 style=" --i: 8">T</h1>
          <h1 style="--i: 9">i</h1>
          <h1 style="--i: 10">m</h1>
          <h1 style="--i: 11; margin-right: 2rem"">e</h1>
          <h1 style=" --i: 12; margin-right: 2rem"">!</h1>
          <h1 style="--i: 13">T</h1>
          <h1 style="--i: 14">a</h1>
          <h1 style="--i: 15">k</h1>
          <h1 style="--i: 16; margin-right: 2rem"">e</h1>
          <h1 style=" --i: 17">C</h1>
          <h1 style="--i: 18">a</h1>
          <h1 style="--i: 19">r</h1>
          <h1 style="--i: 20; margin-right: 2rem"">e</h1>
          <h1 style=" --i: 21">!</h1>
        </span>
      </section>




    </main>

    <!-- Cursor -->
    <div class="cursor"></div>
    <div class="cursor2"></div>

    <!-- JS script(s) -->
    <script>
      /****** LANDING PAGE ARROW ******/
      const animTurtle = document.querySelector('#anim-turtle');
      const endArrow = document.querySelector('#no-link-arrow');

      animTurtle.addEventListener('mouseover', function handleMouseOver() {
        let timerr = setTimeout(function() {
          endArrow.style.opacity = 1;
        }, 1500);
      });
    </script>

    <!-- JS scripts -->
    <script src="https://unpkg.co/gsap@3/dist/gsap.min.js"></script>
    <script src="https://unpkg.com/gsap@3/dist/ScrollTrigger.min.js"></script>
    <script src="js/script.js"></script>
    <script>
      /****** PROGRESS BAR ******/

      // (1) Trigger transition effect of next section when horizontal scroll hits the middle of webpage
      gsap.registerPlugin(ScrollTrigger);

      const sections = gsap.utils.toArray("section");

      // using matchMedia to activate scrollTrigger only when bigger than 700px
      // change this to a higher value than 700 if you want a tablet view size
      ScrollTrigger.matchMedia({
        "(min-width:700px)": function() {

          let maxWidth = 0;

          const getMaxWidth = () => {
            maxWidth = 0;
            sections.forEach((section) => {
              maxWidth += section.offsetWidth;
            });
          };
          getMaxWidth();
          ScrollTrigger.addEventListener("refreshInit", getMaxWidth);

          gsap.to(sections, {
            x: () => `-${maxWidth - window.innerWidth}`,
            ease: "none",
            scrollTrigger: {
              trigger: ".wrapper",
              pin: true,
              scrub: true,
              end: () => `+=${maxWidth}`,
              invalidateOnRefresh: true
            }
          });

          sections.forEach((sct, i) => {
            ScrollTrigger.create({
              trigger: sct,
              start: () => 'top top-=' + (sct.offsetLeft - window.innerWidth / 2) * (maxWidth / (maxWidth - window.innerWidth)),
              end: () => '+=' + sct.offsetWidth * (maxWidth / (maxWidth - window.innerWidth)),
              toggleClass: {
                targets: sct,
                className: "active"
              }
              // when the section intersects with the middle of the page
              // add the active class
            });
          });
        }
      });

      // (2) Display a progress bar
      // When the user scrolls the page, execute myFunction
      window.onscroll = function() {
        myFunction();
      };

      function myFunction() {
        const winScroll = document.body.scrollTop || document.documentElement.scrollTop;
        console.log(`winScroll: ${winScroll}`);
        const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;
        console.log(`height: ${height}`);
        const scrolled = (winScroll / height) * 100;
        console.log(`scrolled: ${scrolled}%`);
        document.getElementById('myBar').style.width = `${scrolled}%`;
      }
    </script>

  </body>

</html>